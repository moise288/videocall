(this["webpackJsonpvideo-chat"]=this["webpackJsonpvideo-chat"]||[]).push([[0],{35:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);var n,a,r,s=c(5),i=c.n(s),o=c(37),l=c.n(o),A=c(0),d=c(1),j=c(11),u=c(39),b=["title","titleId"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},O.apply(this,arguments)}function m(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function h(e,t){var c=e.title,i=e.titleId,o=m(e,b);return s.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-phone-missed",ref:t,"aria-labelledby":i},o),c?s.createElement("title",{id:i},c):null,n||(n=s.createElement("line",{x1:23,y1:1,x2:17,y2:7})),a||(a=s.createElement("line",{x1:17,y1:1,x2:23,y2:7})),r||(r=s.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})))}var p,v,g,x=s.forwardRef(h),f=(c.p,["title","titleId"]);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},C.apply(this,arguments)}function y(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function R(e,t){var c=e.title,n=e.titleId,a=y(e,f);return s.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-more-vertical",ref:t,"aria-labelledby":n},a),c?s.createElement("title",{id:n},c):null,p||(p=s.createElement("circle",{cx:12,cy:12,r:1})),v||(v=s.createElement("circle",{cx:12,cy:5,r:1})),g||(g=s.createElement("circle",{cx:12,cy:19,r:1})))}var w,I,G=s.forwardRef(R),k=(c.p,["title","titleId"]);function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},B.apply(this,arguments)}function D(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function N(e,t){var c=e.title,n=e.titleId,a=D(e,k);return s.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-copy",ref:t,"aria-labelledby":n},a),c?s.createElement("title",{id:n},c):null,w||(w=s.createElement("rect",{x:9,y:9,width:13,height:13,rx:2,ry:2})),I||(I=s.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})))}var M=s.forwardRef(N),P=(c.p,c(47),c(48),c(6)),S=u.a.firestore,Y=new RTCPeerConnection({iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10});function J(e){var t=e.joinCode,c=e.setJoinCode,n=e.setPage;return Object(P.jsxs)("div",{className:"home",children:[Object(P.jsx)("div",{className:"create box",children:Object(P.jsx)("button",{className:"btn-appeler",onClick:function(){return n("create")},children:"Appeler"})}),Object(P.jsxs)("div",{className:"answer box",children:[Object(P.jsx)("input",{value:t,onChange:function(e){return c(e.target.value)},placeholder:"Joindre avec le code"}),Object(P.jsx)("button",{className:"btn-repondre",onClick:function(){return n("join")},children:"R\xe9pondre"})]})]})}function U(e){var t=e.mode,c=e.callId,n=e.setPage,a=Object(s.useState)(!1),r=Object(j.a)(a,2),i=r[0],o=r[1],l=Object(s.useState)(c),u=Object(j.a)(l,2),b=u[0],O=u[1],m=Object(s.useRef)(),h=Object(s.useRef)(),p=function(){var e=Object(d.a)(Object(A.a)().mark((function e(){var n,a,r,s,i,l,d,j,u,b,p,g,x,f;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 2:if(n=e.sent,a=new MediaStream,n.getTracks().forEach((function(e){Y.addTrack(e,n)})),Y.ontrack=function(e){e.streams[0].getTracks().forEach((function(e){a.addTrack(e)}))},m.current.srcObject=n,h.current.srcObject=a,o(!0),"create"!==t){e.next=28;break}return r=S.collection("calls").doc(),s=r.collection("offerCandidates"),i=r.collection("answerCandidates"),O(r.id),console.log(r.id+"**********************"),Y.onicecandidate=function(e){e.candidate&&s.add(e.candidate.toJSON())},e.next=18,Y.createOffer();case 18:return l=e.sent,e.next=21,Y.setLocalDescription(l);case 21:return d={sdp:l.sdp,type:l.type},e.next=24,r.set({offer:d});case 24:r.onSnapshot((function(e){var t=e.data();if(!Y.currentRemoteDescription&&null!==t&&void 0!==t&&t.answer){var c=new RTCSessionDescription(t.answer);Y.setRemoteDescription(c)}})),i.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=new RTCIceCandidate(e.doc.data());Y.addIceCandidate(t)}}))})),e.next=48;break;case 28:if("join"!==t){e.next=48;break}return j=S.collection("calls").doc(c),u=j.collection("answerCandidates"),b=j.collection("offerCandidates"),Y.onicecandidate=function(e){e.candidate&&u.add(e.candidate.toJSON())},e.next=35,j.get();case 35:return p=e.sent.data(),g=p.offer,e.next=39,Y.setRemoteDescription(new RTCSessionDescription(g));case 39:return e.next=41,Y.createAnswer();case 41:return x=e.sent,e.next=44,Y.setLocalDescription(x);case 44:return f={type:x.type,sdp:x.sdp},e.next=47,j.update({answer:f});case 47:b.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=e.doc.data();Y.addIceCandidate(new RTCIceCandidate(t))}}))}));case 48:Y.onconnectionstatechange=function(e){"disconnected"===Y.connectionState&&v()};case 49:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(Object(A.a)().mark((function e(){var t;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y.close(),!b){e.next=9;break}return t=S.collection("calls").doc(b),e.next=5,t.collection("answerCandidates").get().then((function(e){e.forEach((function(e){e.ref.delete()}))}));case 5:return e.next=7,t.collection("offerCandidates").get().then((function(e){e.forEach((function(e){e.ref.delete()}))}));case 7:return e.next=9,t.delete();case 9:window.location.reload();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:"videos",children:[Object(P.jsx)("video",{ref:m,autoPlay:!0,playsInline:!0,className:"local",muted:!0}),Object(P.jsx)("video",{ref:h,autoPlay:!0,playsInline:!0,className:"remote"}),Object(P.jsxs)("div",{className:"buttonsContainer",children:[Object(P.jsx)("button",{onClick:v,disabled:!i,className:"hangup button",children:Object(P.jsx)(x,{})}),Object(P.jsxs)("div",{tabIndex:0,role:"button",className:"more button",children:[Object(P.jsx)(G,{}),Object(P.jsx)("div",{className:"popover",children:Object(P.jsxs)("button",{onClick:function(){navigator.clipboard.writeText(b)},children:[Object(P.jsx)(M,{})," Copier le code"]})})]})]}),!i&&Object(P.jsx)("div",{className:"modalContainer",children:Object(P.jsxs)("div",{className:"modal",children:[Object(P.jsx)("h3",{children:"Allumez votre cam\xe9ra et votre microphone et d\xe9marrez l'appel"}),Object(P.jsxs)("div",{className:"container",children:[Object(P.jsx)("button",{onClick:function(){return n("home")},className:"secondary",children:"Annuler"}),Object(P.jsx)("button",{onClick:p,children:"Commencer"})]})]})})]})}var W=function(){var e=Object(s.useState)("home"),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(j.a)(a,2),i=r[0],o=r[1];return Object(P.jsx)("div",{className:"app",children:"home"===c?Object(P.jsx)(J,{joinCode:i,setJoinCode:o,setPage:n}):Object(P.jsx)(U,{mode:c,callId:i,setPage:n})})},Z=(c(35),c(38)),H=c(23),L=c(25),V=c(15),X=(Object(Z.a)({apiKey:"AIzaSyC6RXNJRwg6Jze8oI4nyR54u263SPw1Drk",authDomain:"videocall-b838d.firebaseapp.com",projectId:"videocall-b838d",storageBucket:"videocall-b838d.appspot.com",messagingSenderId:"309339173693",appId:"1:309339173693:web:6c3e90101d619c02608b54"}),Object(H.b)()),E=Object(L.b)(),z=Object(V.g)(),Q=Object(s.createContext)(),T=function(e){var t=e.children,c=Object(s.useState)({}),n=Object(j.a)(c,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){var e=Object(H.c)(X,(function(e){r(e),console.log(e)}));return function(){e()}}),[]),Object(P.jsx)(Q.Provider,{value:{currentUser:a},children:t})},F=Object(s.createContext)(),K=function(e){var t=e.children,c=Object(s.useContext)(Q).currentUser,n=Object(s.useReducer)((function(e,t){return"CHANGE_USER"===t.type?{user:t.payload,chatId:c.uid>t.payload.uid?c.uid+t.payload.uid:t.payload.uid+c.uid}:e}),{chatId:"null",user:{}}),a=Object(j.a)(n,2),r=a[0],i=a[1];return Object(P.jsx)(F.Provider,{value:{data:r,dispatch:i},children:t})},q=c(13),_=c(22),$=function(){var e=Object(s.useState)(!1),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(!1),r=Object(j.a)(a,2),i=r[0],o=r[1],l=Object(q.m)(),u=function(){var e=Object(d.a)(Object(A.a)().mark((function e(t){var c,a,r,s,i,j,u;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),t.preventDefault(),c=t.target[0].value,a=t.target[1].value,r=t.target[2].value,s=t.target[3].files[0],e.prev=6,e.next=9,Object(H.a)(X,a,r);case 9:return i=e.sent,j=(new Date).getTime(),u=Object(L.c)(E,"".concat(c+j)),e.next=14,Object(L.d)(u,s).then((function(){Object(L.a)(u).then(function(){var e=Object(d.a)(Object(A.a)().mark((function e(t){return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(H.f)(i.user,{displayName:c,photoURL:t});case 3:return e.next=5,Object(V.k)(Object(V.d)(z,"users",i.user.uid),{uid:i.user.uid,displayName:c,email:a,photoURL:t});case 5:return e.next=7,Object(V.k)(Object(V.d)(z,"userChats",i.user.uid),{});case 7:l("/"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),n(!0),o(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),n(!0),o(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)("div",{className:"formContainer",children:Object(P.jsxs)("div",{className:"formWrapper",children:[Object(P.jsx)("span",{className:"logo",children:"Lama Chat"}),Object(P.jsx)("span",{className:"title",children:"Register"}),Object(P.jsxs)("form",{onSubmit:u,name:"myform",children:[Object(P.jsx)("input",{required:!0,type:"text",placeholder:"display name"}),Object(P.jsx)("input",{required:!0,type:"email",placeholder:"email"}),Object(P.jsx)("input",{required:!0,type:"password",placeholder:"password"}),Object(P.jsx)("input",{style:{display:"none"},type:"file",id:"file"}),Object(P.jsxs)("label",{htmlFor:"file",children:[Object(P.jsx)("img",{src:"data:image/png;base64,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",alt:""}),Object(P.jsx)("span",{children:"Add an avatar"})]}),Object(P.jsx)("button",{disabled:i,children:"Sign up"}),i&&"Uploading and compressing the image please wait...",c&&Object(P.jsx)("span",{children:"Something went wrong"})]}),Object(P.jsxs)("p",{children:["You do have an account? ",Object(P.jsx)(_.b,{to:"/login",children:"Login"})]})]})})},ee=function(){var e=Object(s.useContext)(Q).currentUser,t=Object(q.m)();return Object(P.jsxs)("div",{className:"navbar",children:[Object(P.jsx)("span",{className:"logo",children:"Lama Chat"}),Object(P.jsxs)("div",{className:"user",children:[Object(P.jsx)("img",{src:e.photoURL,alt:""}),Object(P.jsx)("span",{children:e.displayName}),Object(P.jsx)("button",{onClick:function(){Object(H.e)(X),t("/login")},children:"logout"})]})]})},te=c(4),ce=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(null),r=Object(j.a)(a,2),i=r[0],o=r[1],l=Object(s.useState)(!1),u=Object(j.a)(l,2),b=u[0],O=u[1],m=Object(s.useContext)(Q).currentUser,h=function(){var e=Object(d.a)(Object(A.a)().mark((function e(){var t;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(V.i)(Object(V.c)(z,"users"),Object(V.m)("displayName","==",c)),e.prev=1,e.next=4,Object(V.f)(t);case 4:e.sent.forEach((function(e){o(e.data())})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),O(!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(Object(A.a)().mark((function e(){var t,c,a;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.uid>i.uid?m.uid+i.uid:i.uid+m.uid,e.prev=1,e.next=4,Object(V.e)(Object(V.d)(z,"chats",t));case 4:if(e.sent.exists()){e.next=12;break}return e.next=8,Object(V.k)(Object(V.d)(z,"chats",t),{messages:[]});case 8:return e.next=10,Object(V.l)(Object(V.d)(z,"userChats",m.uid),(c={},Object(te.a)(c,t+".userInfo",{uid:i.uid,displayName:i.displayName,photoURL:i.photoURL}),Object(te.a)(c,t+".date",Object(V.j)()),c));case 10:return e.next=12,Object(V.l)(Object(V.d)(z,"userChats",i.uid),(a={},Object(te.a)(a,t+".userInfo",{uid:m.uid,displayName:m.displayName,photoURL:m.photoURL}),Object(te.a)(a,t+".date",Object(V.j)()),a));case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:o(null),n("");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:"search",children:[Object(P.jsx)("div",{className:"searchForm",children:Object(P.jsx)("input",{type:"text",placeholder:"Find a user",onKeyDown:function(e){"Enter"===e.code&&h(),console.log(e.code+"vvvvvvvvvvvvvvvvvvvvv")},onChange:function(e){return n(e.target.value)},value:c})}),b&&Object(P.jsx)("span",{children:"User not found!"}),i&&Object(P.jsxs)("div",{className:"userChat",onClick:p,children:[Object(P.jsx)("img",{src:i.photoURL,alt:""}),Object(P.jsx)("div",{className:"userChatInfo",children:Object(P.jsx)("span",{children:i.displayName})})]})]})},ne=function(){var e,t=Object(s.useState)([]),c=Object(j.a)(t,2),n=c[0],a=c[1],r=Object(s.useContext)(Q).currentUser,i=Object(s.useContext)(F).dispatch;Object(s.useEffect)((function(){r.uid&&function(){var e=Object(V.h)(Object(V.d)(z,"userChats",r.uid),(function(e){a(e.data())}))}()}),[r.uid]);return Object(P.jsx)("div",{className:"chats",children:n?null===(e=Object.entries(n))||void 0===e?void 0:e.sort((function(e,t){return t[1].date-e[1].date})).map((function(e){var t;return Object(P.jsxs)("div",{className:"userChat",onClick:function(){return t=e[1].userInfo,void i({type:"CHANGE_USER",payload:t});var t},children:[Object(P.jsx)("img",{src:e[1].userInfo.photoURL,alt:""}),Object(P.jsxs)("div",{className:"userChatInfo",children:[Object(P.jsx)("span",{children:e[1].userInfo.displayName}),Object(P.jsx)("p",{children:null===(t=e[1].lastMessage)||void 0===t?void 0:t.text})]})]},e[0])})):null})},ae=function(){return Object(P.jsxs)("div",{className:"sidebar",children:[Object(P.jsx)(ee,{}),Object(P.jsx)(ce,{}),Object(P.jsx)(ne,{})]})},re=function(e){var t=e.message,c=Object(s.useContext)(Q).currentUser,n=Object(s.useContext)(F).data,a=Object(s.useRef)();return Object(s.useEffect)((function(){var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[t]),Object(P.jsxs)("div",{ref:a,className:"message ".concat(t.senderId===c.uid&&"owner"),children:[Object(P.jsxs)("div",{className:"messageInfo",children:[Object(P.jsx)("img",{src:t.senderId===c.uid?c.photoURL:n.user.photoURL,alt:""}),Object(P.jsx)("span",{children:"just now"})]}),Object(P.jsxs)("div",{className:"messageContent",children:[Object(P.jsx)("p",{children:t.text}),t.img&&Object(P.jsx)("img",{src:t.img,alt:""})]})]})},se=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useContext)(F).data;return Object(s.useEffect)((function(){var e=Object(V.h)(Object(V.d)(z,"chats",a.chatId),(function(e){e.exists()&&n(e.data().messages)}));return function(){e()}}),[a.chatId]),console.log(c),Object(P.jsx)("div",{className:"messages",children:c.map((function(e){return Object(P.jsx)(re,{message:e},e.id)}))})},ie=c(52),oe=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(null),r=Object(j.a)(a,2),i=r[0],o=r[1],l=Object(s.useContext)(Q).currentUser,u=Object(s.useContext)(F).data,b=function(){var e=Object(d.a)(Object(A.a)().mark((function e(){var t,a,r,s;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=6;break}r=Object(L.c)(E,Object(ie.a)()),(s=Object(L.d)(r,i)).on((function(e){}),(function(){Object(L.a)(s.snapshot.ref).then(function(){var e=Object(d.a)(Object(A.a)().mark((function e(t){return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.l)(Object(V.d)(z,"chats",u.chatId),{messages:Object(V.b)({id:Object(ie.a)(),text:c,senderId:l.uid,date:V.a.now(),img:t})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),e.next=8;break;case 6:return e.next=8,Object(V.l)(Object(V.d)(z,"chats",u.chatId),{messages:Object(V.b)({id:Object(ie.a)(),text:c,senderId:l.uid,date:V.a.now()})});case 8:return e.next=10,Object(V.l)(Object(V.d)(z,"userChats",l.uid),(t={},Object(te.a)(t,u.chatId+".lastMessage",{text:c}),Object(te.a)(t,u.chatId+".date",Object(V.j)()),t));case 10:return e.next=12,Object(V.l)(Object(V.d)(z,"userChats",u.user.uid),(a={},Object(te.a)(a,u.chatId+".lastMessage",{text:c}),Object(te.a)(a,u.chatId+".date",Object(V.j)()),a));case 12:n(""),o(null);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:"input",children:[Object(P.jsx)("input",{type:"text",placeholder:"Type something...",onChange:function(e){return n(e.target.value)},value:c}),Object(P.jsxs)("div",{className:"send",children:[Object(P.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmCB8RBhBiyiCSAAACDklEQVRYw+2XPUgbcRjGn0vtUj8mzRDBUSeXkkgbHCS4xWiV1FWQkqWEwkF7yQUUOoTGFheziDpEJzPce5JIN48YMgnRkg4NnbocItr6kaXX4e2QEEqwekkuXXrP+D7Pvff7P8v/DrDVhPa809OU1DTyVCrkqVQoqWmqOxBoZ6dgNkiH8TguotFbzUg8PluOxVoBcJg9OS6iUQwZhvAxEuEXLpfj/eAgHkkShgwD72SZRqam2mni7tMnNY2IWQ1JUqOnhiSJiJlGDg461gBSHg8AGJOpVKNVn4lud+cA5O5uAJifPz1ttOozZ29v5wAaROFCgc7y+Vb9P9XVCgB8Xi8KbfjtNmClbAAbwAawAWyA1u6Ckq5j1OVSvo+PAwBytdk/a+DDzg4ACLl8XshVbz3hy/Z25wDObm4AIL3b0wMAvzaWlrCQSKCk6yjpOhYSCWNmeRkA9ry174LaM5aINo+PiZiJJybuyyorPh8RMz0pFq1rYDKbBQC8EcV7F55UM0Iok7GsAWXF6aT162siZtUny3/NlWKxalOXl5nH/f1mdpv+L1APg0HeTKcxKwh4ms065lZXf746OgKArm9jY44TUeTnfj+ImV8Hg3OjimIpQB3i7dYWXvb13Rp4dnXFnxcXzb68aQAASO8ODDxcD4eFT34/fx0eBgDkymXhx/7+g+TaWqB4ft7szv9bvwGBKNSBpuqWcAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOC0zMVQxNzowNjoxNiswMDowMJSH2i8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDgtMzFUMTc6MDY6MTYrMDA6MDDl2mKTAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIyLTA4LTMxVDE3OjA2OjE2KzAwOjAwss9DTAAAAABJRU5ErkJggg==",alt:""}),Object(P.jsx)("input",{type:"file",style:{display:"none"},id:"file",onChange:function(e){return o(e.target.files[0])}}),Object(P.jsx)("label",{htmlFor:"file",children:Object(P.jsx)("img",{src:"data:image/png;base64,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",alt:""})}),Object(P.jsx)("button",{onClick:b,children:"Send"})]})]})},le=function(){var e,t=Object(s.useContext)(F).data;return Object(P.jsxs)("div",{className:"chat",children:[Object(P.jsxs)("div",{className:"chatInfo",children:[Object(P.jsx)("span",{children:null===(e=t.user)||void 0===e?void 0:e.displayName}),Object(P.jsxs)("div",{className:"chatIcons",children:[Object(P.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA4LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmRjMjBmNTM2LTJhZjUtNGM3My05ZjZjLTAzMzkwY2JlN2VjMDwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PvItxZYAAAKwSURBVFiF7Ze9bhNBFIW/M2s7JqJAUKdKpJS8AwXpkRANzxAJ0cIbREi8AAUSSqBFUNDxBrQoilLTUeQPxzuHYmYdx3Y2tpdYSPGRVusdz5355ufeuQNLLbXUUrdbGi04ODgd+isSggR4Ut0pZRvZOASQoN+HjY07swPaZn//BElIKAQszcs13G5q264GKyRPxFhf716ybY0RKz2AJboS3dTofJLARmXJEagPxh70gR2RiivtxwBDCAGIwOMYvQu0mwBm2xVbP4Et0C/JGU+2jaS7wNFUgDE6ADEEPbJ1HxyB0AAwz5YegreA90ArRp+HACEUOxA/A99zP3HYtq7jMzCS+pI87wOK1dKC2/ltSdi8Ab8En+byMYixGZwAr5H3jHK21aANyX3wjs2LBH+16gCH1cCVL5nG7CRvJbbTN6Gu/UZ7a1bZ/JF4BdpOMydxzeCnncGmKkhh6zWwmYqcw7azU0zmvHFAKcUSCYE2bZy9ugo11EWxG1/iBCTZsk3M3luF6WvtF7UHDdalT2Aa31vAElvpaFMEh6HfmgZwAUucArbtYOurpGPbIQXw/2eJI4DNO+BJ2ocuMmTtTC4IMKWTkh/Y/gY8T2mcA6i8OObGZ3QqQNsNspkq1zU5OGP7A/AsQ7byeT3Rus5JKqhSDbLWbFqCCqDIza7Y/iQpgHZTEgGTIOsAOwC2uzV1plXVz+8M0odY2OxdDCD1di2glCrb/ihpg3+TsHaAwxD0JSG4bLdXOTs7FoS9VqujTqeg1yvrAfNWqzbNjxjj00bbb0ijuyTGSKfT9fl5T1A6xsBgIq8CzMcQpINd6TYW48W5ObcsKdgMEoOyTGlgCIVjNL1eb/LARgsOD09ptUS7DScnxh69gc0qke8d9Ptn2GZ19R5ra81vi0sttdRSt0F/AbV4QUoZ1kOTAAAAAElFTkSuQmCC",alt:""}),Object(P.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA4LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmQyOGI5NDkyLTJiMDAtNDVjZC1iNDc4LTNjODM4YzMxZTZhMzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZh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",alt:""}),Object(P.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA4LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmNhNTE4ODMwLTBmMmYtNGY0NC1iYzQ2LWVlM2JlZmQ4MmIxNjwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PlV4Lz0AAANzSURBVFiF7ZVNixxlFIWfc6u6pyYzi7iImkUWSXqT+Ilg/Fhkl1VcuAn+BUFw7Q/wX7gRQXAl/gIFQQ0EBKMizkdGgpBFxF07091V97iot+ejZ4xuhTrQ0FWc973nPee+t2DAgAEDBgwYMOD/DJ31cnf3L6qqQUq6bkEmIYGkvHx5jUzY25sBpqqEBF1nbEmyAEfgiI62rYiAtoVMqCqQUKltOyyBbSaT5t8F7u7ukwlSX6eqyK6DIhA7Q3LaM+BwwwDS7sVSKj98eD8nk9eYzw8AA2g6XXhzc3ysfBd2lWUVk8n6CT2xKtCmFLGAlKIBXgJekWIT1MvX6Pghs6rqAL0AvAo8BeSlS89rOv0D29i9YxsbNcA1iRvABZvMXCBVbG76lIOnBBbno5fql9u2+0nie+Be17W/2r5p23ZEWW+bK23b3gP/AHwHfiBxR5JHo3Mh9eYDT0v6CvjZ5lvbDyDei6ix29jfh+1tn1JzAjs7+yUOVeAfQdf6SJGEbB5H8JzNY0hltpbWvpH8Zh9z31+SZqAXwVtABe5sPgPe6VPwcj+AN0B3gZjPm7x+/UjWGQ6iovuqxESyj3pLC+BCJrf6jWtLzQsSr9skaNmrc9trkG/bJmLRAc8At0tvlx7XrJS8LRnJoRXL6lPqdGjxCIo6oBfppfjNY9z1k0lIJQFsn+vfrSHlOjByH8XyFqscaukk58+f1HPGJdHy98hm3jvCXGIB1OX5bj8aGiDu2/xeRscMPC/tAfA1QNe1MR4/+s32VilTeJTD8Es5nC9ePNmDZwm0lCH5T+ADG2yv2R73wvkwk/uZCA4C8kDi/eJYY2sMroCPwF9KliRms2eReFdiatPYjG2PJH2+sdF8urGxToS6EthRHqsCt7cPkGCxWFDXNRK3JG4CYXMvIr9o25qIJLNDCtF3/A2Jt3qet2x9EtHRFzSgoB9b14A7wBp4t6rWP27bg1w2x5UrTenPfxC4s3PQWxsiM8vuPqRXVarrwgBXrzZsbU2JiJCURzxYLMRoVOYvuQwrpEj7iFfXDW07Y7l2Mjn35IgnkwbJjMdJXduFU5dftVhUzuyX7e3NmM3MdDrPVd547MOi0hg76T926Div6+blsomqOnVnz/4WQz99V59PWF/+r/JOFTi25klcrc6XAQMGDBgwYMCA/4K/AR9NvILUl7eBAAAAAElFTkSuQmCC",alt:""})]})]}),Object(P.jsx)(se,{}),Object(P.jsx)(oe,{})]})},Ae=function(){return Object(P.jsx)("div",{className:"home",children:Object(P.jsxs)("div",{className:"container",children:[Object(P.jsx)(ae,{}),Object(P.jsx)(le,{})]})})},de=function(){var e=Object(s.useState)(!1),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(q.m)(),r=function(){var e=Object(d.a)(Object(A.a)().mark((function e(t){var c,r;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=t.target[0].value,r=t.target[1].value,e.prev=3,e.next=6,Object(H.d)(X,c,r);case 6:a("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),n(!0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)("div",{className:"formContainer",children:Object(P.jsxs)("div",{className:"formWrapper",children:[Object(P.jsx)("span",{className:"logo",children:"Lama Chat"}),Object(P.jsx)("span",{className:"title",children:"Login"}),Object(P.jsxs)("form",{onSubmit:r,children:[Object(P.jsx)("input",{type:"email",placeholder:"email"}),Object(P.jsx)("input",{type:"password",placeholder:"password"}),Object(P.jsx)("button",{children:"Sign in"}),c&&Object(P.jsx)("span",{children:"Something went wrong"})]}),Object(P.jsxs)("p",{children:["You don't have an account? ",Object(P.jsx)(_.b,{to:"/register",children:"Register"})]})]})})};var je=function(){return Object(P.jsxs)("div",{className:"home",children:[Object(P.jsx)("div",{className:"create box",children:Object(P.jsx)("button",{className:"btn-appeler",children:Object(P.jsx)(_.b,{to:"/app",children:"Appel videos"})})}),Object(P.jsx)("div",{className:"answer box",children:Object(P.jsx)("button",{className:"btn-repondre",children:Object(P.jsx)(_.b,{to:"/home",children:"Messages"})})})]})};var ue=function(){var e=Object(s.useContext)(Q).currentUser,t=function(t){var c=t.children;return e?c:Object(P.jsx)(q.a,{to:"/login"})};return Object(P.jsx)(_.a,{children:Object(P.jsx)(q.d,{children:Object(P.jsxs)(q.b,{path:"/",children:[Object(P.jsx)(q.b,{index:!0,element:Object(P.jsx)(t,{children:Object(P.jsx)(je,{})})}),Object(P.jsx)(q.b,{path:"login",element:Object(P.jsx)(de,{})}),Object(P.jsx)(q.b,{path:"register",element:Object(P.jsx)($,{})}),Object(P.jsx)(q.b,{path:"app",element:Object(P.jsx)(W,{})}),Object(P.jsx)(q.b,{path:"menu",element:Object(P.jsx)(je,{})}),Object(P.jsx)(q.b,{path:"home",element:Object(P.jsx)(Ae,{})})]})})})};l.a.createRoot(document.getElementById("root")).render(Object(P.jsx)(T,{children:Object(P.jsx)(K,{children:Object(P.jsx)(i.a.StrictMode,{children:Object(P.jsx)(ue,{})})})}))}},[[50,1,2]]]);
//# sourceMappingURL=main.927a29af.chunk.js.map